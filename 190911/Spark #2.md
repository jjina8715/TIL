# Spark #2

### 분산처리 환경

[클러스터 환경 개요]

- 스파크가 지원하는 클러스터 관리 시스템
  - YARN
    - 하둡의 클러스터 관리 시스템
    - 분산처리를 위한 범용 클러스터 관리 시스템으로 설계
    - 분산처리의 데이터소스로 HDFS를 이용할 경우, 클러스터 관리 시스템으로 YARN을 같이 사용하면 데이터 지역성이 고려되어 효율적인 I/O 처리가 이루어진다
  - Mesos
    - 범용 클러스터 관리 시스템
    - 처리에 할당하는 CPU 코어 수의 분배를 동적으로 바꿀 수 있는 등 세세한 제어가 가능
  - Spark Standalon
    - 스파크에 번들되는 전용 클러스터 관리 시스템
    - 별도의 클러스터 관리 시스템 없이 편리하게 이용 가능

[드라이버 프로그램]

- 스파크 애플리케이션의 동작을 제어하는 것
- 스파크 애플리케이션을 개발할 때, 사용자는 드라이버 프로그램에 RDD의 생성과 변환, 액션의 로직 등을 기술
- RDD의 지연 평가에 의해 실제처리는 드라이버 프로그램에서 이루어지지 않고, 잡 형태로 클러스터에서 실행 
- 실행 시점은 드라이버 프로그램에서 액션의 적용이 선언될 때까지 지연
- RDD라는 분산 컬렉션과 지연 평가에 의해 사용자는 대량의 데이터 처리를 평소 다루던 컬렉션처럼 기술할 수 있는 것이다

[태스크 스케줄링]

- 태스크
  - 데이터 로드와 일련의 변환 및 액션의 적용을 파티션 단위로 실행하는 처리 단위
- RDD의 생성과 로드는 지연평가되므로, RDD가 데이터를 가진 상태가 되는 것(인스턴스화)은 클러스터를 처리할 때
- 드라이버 프로그램에서 생성된 RDD에는 태스크 작성과 스케줄링에 필요한 정보가 포함된다
- 드라이버 프로그램에서 RDD에 대한 액션 적용이 선언되면, 해당 드라이버 프로그램에서 동작하는 스케줄러가 이 정보를 바탕으로 변환의 전체적인 흐름을 해석
- 그리고 이그제큐터(executor) 간의 네트워크 통신과 I/O 부하가 가능한 한 작아지도록 태스크를 구성하는 등 스케줄링에 도움을 준다

### 정규표현식

https://link.springer.com/content/pdf/bbm%3A978-1-4302-0709-2%2F1.pdf

