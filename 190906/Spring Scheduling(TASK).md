# Spring Scheduling(TASK)

- 스프링에서는 특정 시간에 반복적으로 처리되는 코드를 스케줄링할 수 있는 구현방법 지원

### 환경설정

- `servlet-context.xml`에 스케줄링 기능 관련 태그 추가

  ```xml
  <task:annotation-driven/>
  ```

  Namespaces에서 task를 체크하여 속성들을 추가

### 메서드 정의

- Task method 위에 `@Scheduled` 애노테이션 추가, 다음 속성 중 하나를 추가
  - cron : CronTab에서의 설정과 같이 cron="10 * * * * *" (초 분 시 일 월 요일)과 같은 설정이 가능
  - fixedDelay : 이전에 실행된 Task의 종료 시간으로부터 정의된 시간만큼 지난 후 Task를 실행
  - fixedRate : 이전에 실행된 Task의 시작 시간으로부터 정의된 시간만큼 지난 후 Task를 실행

| 순서 | 필드명          | 사용 가능한 값               |
| ---- | --------------- | ---------------------------- |
| 1    | seconds         | 0-59 , - * /                 |
| 2    | minutes         | 0-59 , - * /                 |
| 3    | hours           | 0-23 , - * /                 |
| 4    | day of month    | 1-31 , - * / L W             |
| 5    | month           | 1-12 or JAN-DEC , - * /      |
| 6    | day of week     | 1-7 or SUN-SAT , - * ? / L # |
| 7    | years(optional) | 1970-2099 , - * /            |

- 특수 문자

| 특수문자 | 의미                                                         |
| -------- | ------------------------------------------------------------ |
| *        | 모든 수. 매초, 매분, 매시간                                  |
| ?        | 해당 항목은 사용 안함.                                       |
| -        | 기간을 설정. 앞 뒤를 포함                                    |
| ,        | 특정 시간을 지정.                                            |
| /        | 시작 시간과 반복 간격 설정                                   |
| L        | 마지막 기간에 동작. day of month(토요일), day od week(마지막일)에서만 사용 |
| W        | 가장 가까운 평일 동작. day of month에만 사용                 |
| LW       | 그달의 마지막 평일에 동작                                    |
| #        | 몇번째 주와 요일 설정. day of week에 사용. 앞이 요일, 뒤가 몇번째 |

